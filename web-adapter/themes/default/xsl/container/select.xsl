<?xml version="1.0" encoding="ISO-8859-1"?><xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0"><xsl:template match="select" mode="core"><INPUT TYPE="HIDDEN" NAME="declare:{array[@name='selected']/@id}" VALUE="" />  <SELECT NAME="{array[@name='selected']/@id}" >    <xsl:if test="@immediate='true'">      <xsl:attribute name="onchange">millstone.submit();</xsl:attribute>    </xsl:if>    <xsl:if test="@selectmode='multi'">      <xsl:attribute name="MULTIPLE">true</xsl:attribute>    </xsl:if>    <xsl:for-each select="options/so">      <OPTION value="{@key}">        <xsl:if test="@selected='true'"><xsl:attribute name="selected">selected</xsl:attribute></xsl:if>              <xsl:value-of select="@caption"/>      </OPTION>    </xsl:for-each>  </SELECT></xsl:template><xsl:template match="select[@style='optiongroup']|select[options/so/@icon]|select[@allownewitem='true']" mode="core"><DIV>    <INPUT TYPE="HIDDEN" NAME="declare:{array[@name='selected']/@id}" VALUE="" />	<xsl:for-each select="options/so">	  <xsl:variable name="opid" select="generate-id()"/>      <INPUT ID="{$opid}" NAME="{../../array[@name='selected']/@id}" VALUE="{@key}">        <xsl:attribute name="TYPE">          <xsl:choose>            <xsl:when test="../../@selectmode='multi'">CHECKBOX</xsl:when>            <xsl:otherwise>RADIO</xsl:otherwise>          </xsl:choose>        </xsl:attribute>        <xsl:if test="@selected='true'">          <xsl:attribute name="CHECKED">CHECKED</xsl:attribute>        </xsl:if>        <xsl:if test="@readonly='true'">          <xsl:attribute name="READONLY">1</xsl:attribute>        </xsl:if>      </INPUT>      <SPAN onclick="getElementById('{$opid}').click();" CLASS="select-option">        <xsl:if test="@icon"><IMG SRC="{@icon}"/></xsl:if>        <xsl:value-of select="@caption"/>      </SPAN><BR/>	</xsl:for-each>	<xsl:if test="@allownewitem='true'">      <SPAN CLASS="select-option">         <IMG SRC="{wa:resource('icon/plus.gif')}" ALT=""/>        <INPUT CLASS="select-new-item" NAME="{string[@name='newitem']/@id}"              VALUE="{string[@name='newitem']/text()}" />      </SPAN>	</xsl:if>  </DIV></xsl:template></xsl:stylesheet>